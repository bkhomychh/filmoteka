{"version":3,"file":"static/js/384.683eb23f.chunk.js","mappings":"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","sources":["webpack://filmoteka/./src/components/Movie/Movie.module.scss?674c","components/Movie/Movie.tsx","../node_modules/src/observe.ts","webpack://filmoteka/./src/components/MovieCarousel/MovieCarousel.module.scss?517c","components/MovieCarousel/MovieCarousel.tsx","pages/Home.tsx","services/moviesAPI.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"link\":\"Movie_link__TtNxb\",\"poster\":\"Movie_poster__O4gfr\",\"icon\":\"Movie_icon__zxB3-\",\"title\":\"Movie_title__9f19-\",\"score\":\"Movie_score__ya-UI\",\"info\":\"Movie_info__SpV5y\"};","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nimport { getDataFromLocalStorage } from 'services/localStorage';\nimport { IMAGE_BASE_URL } from 'utils/constants';\n\nimport { FaBookmark } from 'react-icons/fa';\nimport { AiFillStar } from 'react-icons/ai';\nimport imagePlaceHolder from 'assets/images/image-place-holder.png';\nimport styles from './Movie.module.scss';\n\nimport type { IMovieProps } from './Movie.types';\n\nconst Movie = ({ movie, location }: IMovieProps) => {\n  const { id, title, poster_path, vote_average } = movie;\n  const imgUrl = poster_path ? IMAGE_BASE_URL + poster_path : imagePlaceHolder;\n\n  const data = getDataFromLocalStorage('movies');\n  const isSaved = Array.isArray(data) ? data.some(el => el.id === id) : false;\n\n  return (\n    <>\n      <Link className={styles.link} to={`/search/${id}`} state={{ from: location }}>\n        <img className={styles.poster} src={imgUrl} alt={title} loading=\"lazy\" />\n        {isSaved && <FaBookmark className={styles.icon} />}\n      </Link>\n      <div className={styles.info}>\n        <h3 className={styles.title}>{title}</h3>\n        <p className={styles.score}>\n          {vote_average.toFixed(1)} <AiFillStar />\n        </p>\n      </div>\n    </>\n  );\n};\n\nMovie.propTypes = {\n  movie: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n};\n\nexport default Movie;\n","import type { ObserverInstanceCallback } from './index';\n\nconst observerMap = new Map<\n  string,\n  {\n    id: string;\n    observer: IntersectionObserver;\n    elements: Map<Element, Array<ObserverInstanceCallback>>;\n  }\n>();\n\nconst RootIds: WeakMap<Element | Document, string> = new WeakMap();\nlet rootId = 0;\n\nlet unsupportedValue: boolean | undefined = undefined;\n\n/**\n * What should be the default behavior if the IntersectionObserver is unsupported?\n * Ideally the polyfill has been loaded, you can have the following happen:\n * - `undefined`: Throw an error\n * - `true` or `false`: Set the `inView` value to this regardless of intersection state\n * **/\nexport function defaultFallbackInView(inView: boolean | undefined) {\n  unsupportedValue = inView;\n}\n\n/**\n * Generate a unique ID for the root element\n * @param root\n */\nfunction getRootId(root: IntersectionObserverInit['root']) {\n  if (!root) return '0';\n  if (RootIds.has(root)) return RootIds.get(root);\n  rootId += 1;\n  RootIds.set(root, rootId.toString());\n  return RootIds.get(root);\n}\n\n/**\n * Convert the options to a string Id, based on the values.\n * Ensures we can reuse the same observer when observing elements with the same options.\n * @param options\n */\nexport function optionsToId(options: IntersectionObserverInit) {\n  return Object.keys(options)\n    .sort()\n    .filter((key) => options[key] !== undefined)\n    .map((key) => {\n      return `${key}_${\n        key === 'root' ? getRootId(options.root) : options[key]\n      }`;\n    })\n    .toString();\n}\n\nfunction createObserver(options: IntersectionObserverInit) {\n  // Create a unique ID for this observer instance, based on the root, root margin and threshold.\n  let id = optionsToId(options);\n  let instance = observerMap.get(id);\n\n  if (!instance) {\n    // Create a map of elements this observer is going to observe. Each element has a list of callbacks that should be triggered, once it comes into view.\n    const elements = new Map<Element, Array<ObserverInstanceCallback>>();\n    let thresholds: number[] | readonly number[];\n\n    const observer = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        // While it would be nice if you could just look at isIntersecting to determine if the component is inside the viewport, browsers can't agree on how to use it.\n        // -Firefox ignores `threshold` when considering `isIntersecting`, so it will never be false again if `threshold` is > 0\n        const inView =\n          entry.isIntersecting &&\n          thresholds.some((threshold) => entry.intersectionRatio >= threshold);\n\n        // @ts-ignore support IntersectionObserver v2\n        if (options.trackVisibility && typeof entry.isVisible === 'undefined') {\n          // The browser doesn't support Intersection Observer v2, falling back to v1 behavior.\n          // @ts-ignore\n          entry.isVisible = inView;\n        }\n\n        elements.get(entry.target)?.forEach((callback) => {\n          callback(inView, entry);\n        });\n      });\n    }, options);\n\n    // Ensure we have a valid thresholds array. If not, use the threshold from the options\n    thresholds =\n      observer.thresholds ||\n      (Array.isArray(options.threshold)\n        ? options.threshold\n        : [options.threshold || 0]);\n\n    instance = {\n      id,\n      observer,\n      elements,\n    };\n\n    observerMap.set(id, instance);\n  }\n\n  return instance;\n}\n\n/**\n * @param element - DOM Element to observe\n * @param callback - Callback function to trigger when intersection status changes\n * @param options - Intersection Observer options\n * @param fallbackInView - Fallback inView value.\n * @return Function - Cleanup function that should be triggered to unregister the observer\n */\nexport function observe(\n  element: Element,\n  callback: ObserverInstanceCallback,\n  options: IntersectionObserverInit = {},\n  fallbackInView = unsupportedValue,\n) {\n  if (\n    typeof window.IntersectionObserver === 'undefined' &&\n    fallbackInView !== undefined\n  ) {\n    const bounds = element.getBoundingClientRect();\n    callback(fallbackInView, {\n      isIntersecting: fallbackInView,\n      target: element,\n      intersectionRatio:\n        typeof options.threshold === 'number' ? options.threshold : 0,\n      time: 0,\n      boundingClientRect: bounds,\n      intersectionRect: bounds,\n      rootBounds: bounds,\n    });\n    return () => {\n      // Nothing to cleanup\n    };\n  }\n  // An observer with the same options can be reused, so lets use this fact\n  const { id, observer, elements } = createObserver(options);\n\n  // Register the callback listener for this element\n  let callbacks = elements.get(element) || [];\n  if (!elements.has(element)) {\n    elements.set(element, callbacks);\n  }\n\n  callbacks.push(callback);\n  observer.observe(element);\n\n  return function unobserve() {\n    // Remove the callback from the callback list\n    callbacks.splice(callbacks.indexOf(callback), 1);\n\n    if (callbacks.length === 0) {\n      // No more callback exists for element, so destroy it\n      elements.delete(element);\n      observer.unobserve(element);\n    }\n\n    if (elements.size === 0) {\n      // No more elements are being observer by this instance, so destroy it\n      observer.disconnect();\n      observerMap.delete(id);\n    }\n  };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MovieCarousel_wrapper__i-8Vn\",\"genre\":\"MovieCarousel_genre__iWB+w\",\"icon\":\"MovieCarousel_icon__5ATRP\",\"card\":\"MovieCarousel_card__1KFGD\"};","import PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport { useQuery } from '@tanstack/react-query';\nimport { useTranslation } from 'react-i18next';\n\nimport Movie from 'components/Movie/Movie';\nimport PageLoader from 'components/PageLoader';\n\nimport { getTrendingMovies, getMoviesByGenre } from 'services/moviesAPI';\n\nimport { Navigation } from 'swiper';\nimport { Swiper, SwiperProps, SwiperSlide } from 'swiper/react';\nimport 'swiper/scss';\nimport 'swiper/scss/navigation';\nimport 'swiper/scss/controller';\nimport { useInView } from 'react-intersection-observer';\nimport { BsFire } from 'react-icons/bs';\n\nimport styles from './MovieCarousel.module.scss';\nimport type { IMovieCarouselProps } from './MovieCarousel.types';\n\nconst MovieCarousel = ({ genre: { name, id = '' } }: IMovieCarouselProps) => {\n  const {\n    t,\n    i18n: { language },\n  } = useTranslation();\n\n  const location = useLocation();\n\n  // observer settings\n  const { ref, inView } = useInView({\n    triggerOnce: true,\n    threshold: 1,\n    rootMargin: '100px',\n    initialInView: false,\n  });\n\n  // fetching data\n  const { data: movies, isLoading } = useQuery({\n    queryKey: ['movie', 'genre', name],\n    queryFn: () => {\n      if (name === TRENDING) {\n        return getTrendingMovies(language);\n      }\n      return getMoviesByGenre(String(id), language);\n    },\n    enabled: inView,\n  });\n\n  const TRENDING = t('home.additional_genre.trending');\n  const sliderOptions: SwiperProps = {\n    slidesPerView: 3,\n    spaceBetween: 20,\n    navigation: true,\n    modules: [Navigation],\n    breakpoints: {\n      768: {\n        slidesPerView: 4,\n      },\n      1200: {\n        slidesPerView: 5,\n      },\n    },\n  };\n\n  if (name === TRENDING) {\n    sliderOptions.slidesPerView = 1;\n    sliderOptions.breakpoints = {\n      768: {\n        slidesPerView: 2,\n        spaceBetween: 30,\n      },\n      1200: {\n        slidesPerView: 3,\n      },\n    };\n  }\n\n  return (\n    <div className={styles.wrapper}>\n      <h2 className={styles.genre} ref={ref}>\n        {name}\n        {name === TRENDING && <BsFire className={styles.icon} />}\n      </h2>\n\n      {isLoading && <PageLoader />}\n\n      {Array.isArray(movies) && movies.length && (\n        <Swiper {...sliderOptions}>\n          {movies.map(movie => (\n            <SwiperSlide className={styles.card} key={movie.id}>\n              <Movie movie={movie} location={location} />\n            </SwiperSlide>\n          ))}\n        </Swiper>\n      )}\n    </div>\n  );\n};\n\nMovieCarousel.propTypes = {\n  genre: PropTypes.object.isRequired,\n};\n\nexport default MovieCarousel;\n","import MovieCarousel from 'components/MovieCarousel';\nimport { getGenreList } from 'services/moviesAPI';\nimport { useTranslation } from 'react-i18next';\nimport { useQuery } from '@tanstack/react-query';\n\nconst Home = () => {\n  const {\n    t,\n    i18n: { language },\n  } = useTranslation();\n\n  const TRENDING = t('home.additional_genre.trending');\n\n  const { data: genres } = useQuery({\n    queryKey: ['genres'],\n    queryFn: () => {\n      return getGenreList(language);\n    },\n  });\n\n  return (\n    <>\n      <MovieCarousel genre={{ name: TRENDING }} />\n      {genres?.length && genres.map(genre => <MovieCarousel key={genre.id} genre={genre} />)}\n    </>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\n\nimport { BASE_URL, API_KEY } from 'utils/constants';\nimport type { IMovie, IGenreList, IFoundMovies, IFoundReviews, FoundCredits } from 'types';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n};\n\nexport const getTrendingMovies = async (language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios.get<IFoundMovies>('trending/movie/week', options).then(res => res.data.results);\n};\n\nexport const getGenreList = async (language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios.get<IGenreList>('genre/movie/list', options).then(res => res.data.genres);\n};\n\nexport const getMoviesBySearchQuery = async (query: string, language = 'en') => {\n  const options = {\n    params: { query, language },\n  };\n  return axios.get<IFoundMovies>('search/movie', options).then(res => res.data.results);\n};\n\nexport const getMoviesByGenre = async (genreId: string, language = 'en') => {\n  const options = {\n    params: {\n      with_genres: genreId,\n      sort_by: 'popularity.desc',\n      'vote_average.gte': 5,\n      'primary_release_date.gte': '2010-01-01',\n      language,\n    },\n  };\n\n  return axios.get<IFoundMovies>('discover/movie', options).then(res => res.data.results);\n};\n\nexport const getMovieDetails = async (id: string, language = 'en') => {\n  const options = {\n    params: { language },\n  };\n\n  return axios.get<IMovie>(`movie/${id}`, options).then(res => res.data);\n};\n\nexport const getMovieCredits = async (id: string, language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios.get<FoundCredits>(`movie/${id}/credits`, options).then(res => res.data.cast);\n};\n\nexport const getMovieReviews = async (id: string, language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios.get<IFoundReviews>(`movie/${id}/reviews`, options).then(res => res.data.results);\n};\n\nexport const getVideos = async (id: string, language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios.get(`movie/${id}/videos`, options).then(res => res.data.results);\n};\n"],"names":["movie","location","id","title","poster_path","vote_average","imgUrl","IMAGE_BASE_URL","imagePlaceHolder","data","getDataFromLocalStorage","isSaved","Array","isArray","some","el","className","styles","to","state","from","src","alt","loading","toFixed","Map","RootIds","WeakMap","rootId","unsupportedValue","undefined","defaultFallbackInView","inView","getRootId","root","has","get","set","sort","filter","key","map","createObserver","instance","threshold","Object","intersectionRatio","trackVisibility","isVisible","IntersectionObserver","entries","entry","isIntersecting","forEach","target","callback","element","fallbackInView","window","bounds","getBoundingClientRect","time","boundingClientRect","thresholds","intersectionRect","rootBounds","callbacks","push","observe","unobserve","splice","indexOf","length","delete","size","disconnect","isPlainChildren","props","children","InView","constructor","node","_unobserveCb","handleNode","triggerOnce","setState","keys","initialInView","skip","observeNode","handleChange","onChange","componentDidUpdate","prevProps","observerMap","genre","name","useTranslation","t","language","i18n","useLocation","useEffect","current","ref","as","createElement","useState","entryTarget","setRef","React","useInView","rootMargin","useQuery","queryKey","queryFn","TRENDING","getTrendingMovies","getMoviesByGenre","String","enabled","movies","isLoading","sliderOptions","slidesPerView","spaceBetween","navigation","modules","Navigation","breakpoints","PageLoader","Movie","genres","getGenreList","axios","BASE_URL","api_key","API_KEY","options","params","then","res","results","getMoviesBySearchQuery","query","genreId","with_genres","sort_by","getMovieDetails","getMovieCredits","cast","getMovieReviews","getVideos"],"sourceRoot":""}