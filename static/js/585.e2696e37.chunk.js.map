{"version":3,"file":"static/js/585.e2696e37.chunk.js","mappings":"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","sources":["webpack://filmoteka/./src/components/Movie/Movie.module.scss?674c","components/Movie/Movie.jsx","../node_modules/src/observe.ts","webpack://filmoteka/./src/components/MovieCarousel/MovieCarousel.module.scss?517c","components/MovieCarousel/MovieCarousel.jsx","pages/Home.jsx","services/moviesAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"link\":\"Movie_link__TtNxb\",\"poster\":\"Movie_poster__O4gfr\",\"icon\":\"Movie_icon__zxB3-\",\"title\":\"Movie_title__9f19-\",\"score\":\"Movie_score__ya-UI\"};","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { FaBookmark } from 'react-icons/fa';\nimport { AiFillStar } from 'react-icons/ai';\n\nimport { getDataFromLocalStorage } from 'services/localStorage';\nimport { IMAGE_BASE_URL } from 'utils/constants';\n\nimport imagePlaceHolder from 'assets/images/image-place-holder.png';\nimport styles from './Movie.module.scss';\n\nconst Movie = ({ movie, location }) => {\n  const { id, title, poster_path, vote_average } = movie;\n  const imgUrl = poster_path ? IMAGE_BASE_URL + poster_path : imagePlaceHolder;\n\n  const data = getDataFromLocalStorage('movies');\n  const isSaved = data ? data.some(el => el.id === id) : false;\n\n  return (\n    <>\n      <Link\n        className={styles.link}\n        to={`/search/${id}`}\n        state={{ from: location }}\n      >\n        <img\n          className={styles.poster}\n          src={imgUrl}\n          alt={title}\n          loading=\"lazy\"\n        />\n        {isSaved && <FaBookmark className={styles.icon} />}\n      </Link>\n      <h3 className={styles.title}>{title}</h3>\n      <p className={styles.score}>\n        {vote_average.toFixed(1)} <AiFillStar />\n      </p>\n    </>\n  );\n};\n\nMovie.propTypes = {\n  movie: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n};\n\nexport default Movie;\n","import type { ObserverInstanceCallback } from './index';\n\nconst observerMap = new Map<\n  string,\n  {\n    id: string;\n    observer: IntersectionObserver;\n    elements: Map<Element, Array<ObserverInstanceCallback>>;\n  }\n>();\n\nconst RootIds: WeakMap<Element | Document, string> = new WeakMap();\nlet rootId = 0;\n\nlet unsupportedValue: boolean | undefined = undefined;\n\n/**\n * What should be the default behavior if the IntersectionObserver is unsupported?\n * Ideally the polyfill has been loaded, you can have the following happen:\n * - `undefined`: Throw an error\n * - `true` or `false`: Set the `inView` value to this regardless of intersection state\n * **/\nexport function defaultFallbackInView(inView: boolean | undefined) {\n  unsupportedValue = inView;\n}\n\n/**\n * Generate a unique ID for the root element\n * @param root\n */\nfunction getRootId(root: IntersectionObserverInit['root']) {\n  if (!root) return '0';\n  if (RootIds.has(root)) return RootIds.get(root);\n  rootId += 1;\n  RootIds.set(root, rootId.toString());\n  return RootIds.get(root);\n}\n\n/**\n * Convert the options to a string Id, based on the values.\n * Ensures we can reuse the same observer when observing elements with the same options.\n * @param options\n */\nexport function optionsToId(options: IntersectionObserverInit) {\n  return Object.keys(options)\n    .sort()\n    .filter((key) => options[key] !== undefined)\n    .map((key) => {\n      return `${key}_${\n        key === 'root' ? getRootId(options.root) : options[key]\n      }`;\n    })\n    .toString();\n}\n\nfunction createObserver(options: IntersectionObserverInit) {\n  // Create a unique ID for this observer instance, based on the root, root margin and threshold.\n  let id = optionsToId(options);\n  let instance = observerMap.get(id);\n\n  if (!instance) {\n    // Create a map of elements this observer is going to observe. Each element has a list of callbacks that should be triggered, once it comes into view.\n    const elements = new Map<Element, Array<ObserverInstanceCallback>>();\n    let thresholds: number[] | readonly number[];\n\n    const observer = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        // While it would be nice if you could just look at isIntersecting to determine if the component is inside the viewport, browsers can't agree on how to use it.\n        // -Firefox ignores `threshold` when considering `isIntersecting`, so it will never be false again if `threshold` is > 0\n        const inView =\n          entry.isIntersecting &&\n          thresholds.some((threshold) => entry.intersectionRatio >= threshold);\n\n        // @ts-ignore support IntersectionObserver v2\n        if (options.trackVisibility && typeof entry.isVisible === 'undefined') {\n          // The browser doesn't support Intersection Observer v2, falling back to v1 behavior.\n          // @ts-ignore\n          entry.isVisible = inView;\n        }\n\n        elements.get(entry.target)?.forEach((callback) => {\n          callback(inView, entry);\n        });\n      });\n    }, options);\n\n    // Ensure we have a valid thresholds array. If not, use the threshold from the options\n    thresholds =\n      observer.thresholds ||\n      (Array.isArray(options.threshold)\n        ? options.threshold\n        : [options.threshold || 0]);\n\n    instance = {\n      id,\n      observer,\n      elements,\n    };\n\n    observerMap.set(id, instance);\n  }\n\n  return instance;\n}\n\n/**\n * @param element - DOM Element to observe\n * @param callback - Callback function to trigger when intersection status changes\n * @param options - Intersection Observer options\n * @param fallbackInView - Fallback inView value.\n * @return Function - Cleanup function that should be triggered to unregister the observer\n */\nexport function observe(\n  element: Element,\n  callback: ObserverInstanceCallback,\n  options: IntersectionObserverInit = {},\n  fallbackInView = unsupportedValue,\n) {\n  if (\n    typeof window.IntersectionObserver === 'undefined' &&\n    fallbackInView !== undefined\n  ) {\n    const bounds = element.getBoundingClientRect();\n    callback(fallbackInView, {\n      isIntersecting: fallbackInView,\n      target: element,\n      intersectionRatio:\n        typeof options.threshold === 'number' ? options.threshold : 0,\n      time: 0,\n      boundingClientRect: bounds,\n      intersectionRect: bounds,\n      rootBounds: bounds,\n    });\n    return () => {\n      // Nothing to cleanup\n    };\n  }\n  // An observer with the same options can be reused, so lets use this fact\n  const { id, observer, elements } = createObserver(options);\n\n  // Register the callback listener for this element\n  let callbacks = elements.get(element) || [];\n  if (!elements.has(element)) {\n    elements.set(element, callbacks);\n  }\n\n  callbacks.push(callback);\n  observer.observe(element);\n\n  return function unobserve() {\n    // Remove the callback from the callback list\n    callbacks.splice(callbacks.indexOf(callback), 1);\n\n    if (callbacks.length === 0) {\n      // No more callback exists for element, so destroy it\n      elements.delete(element);\n      observer.unobserve(element);\n    }\n\n    if (elements.size === 0) {\n      // No more elements are being observer by this instance, so destroy it\n      observer.disconnect();\n      observerMap.delete(id);\n    }\n  };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"genre\":\"MovieCarousel_genre__iWB+w\",\"icon\":\"MovieCarousel_icon__5ATRP\",\"card\":\"MovieCarousel_card__1KFGD\",\"wrapper\":\"MovieCarousel_wrapper__i-8Vn\"};","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { Navigation } from 'swiper';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/scss';\nimport 'swiper/scss/navigation';\nimport 'swiper/scss/controller';\nimport { useInView } from 'react-intersection-observer';\n\nimport Movie from 'components/Movie/Movie';\nimport PageLoader from 'components/PageLoader';\n\nimport { getTrendingMovies, getMoviesByGenre } from 'services/moviesAPI';\nimport { STATUS } from 'utils/constants';\n\nimport styles from './MovieCarousel.module.scss';\nimport { BsFire } from 'react-icons/bs';\nimport { useTranslation } from 'react-i18next';\n\nconst MovieCarousel = ({ genre: { name, id } }) => {\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [movies, setMovies] = useState([]);\n  const {\n    t,\n    i18n: { language },\n  } = useTranslation();\n\n  const TRENDING = t('home.additional_genre.trending');\n\n  const sliderOptions = {\n    slidesPerView: 3,\n    spaceBetween: 20,\n    navigation: true,\n    modules: [Navigation],\n    breakpoints: {\n      768: {\n        slidesPerView: 4,\n      },\n      1200: {\n        slidesPerView: 5,\n      },\n    },\n  };\n\n  if (name === TRENDING) {\n    sliderOptions.slidesPerView = 1;\n    sliderOptions.breakpoints = {\n      768: {\n        slidesPerView: 2,\n        spaceBetween: 30,\n      },\n      1200: {\n        slidesPerView: 3,\n      },\n    };\n  }\n\n  const location = useLocation();\n  const { ref, inView } = useInView({\n    triggerOnce: true,\n    threshold: 1,\n    rootMargin: '100px',\n    initialInView: false,\n  });\n\n  useEffect(() => {\n    if (!inView) {\n      return;\n    }\n\n    setStatus(STATUS.PENDING);\n\n    if (name === TRENDING) {\n      getTrendingMovies(language)\n        .then(res => {\n          setMovies(res);\n          setStatus(STATUS.RESOLVED);\n        })\n        .catch(err => {\n          console.log(err);\n          setStatus(STATUS.REJECTED);\n        });\n      return;\n    }\n\n    getMoviesByGenre(id, language)\n      .then(res => {\n        setMovies(res);\n        setStatus(STATUS.RESOLVED);\n      })\n      .catch(err => {\n        console.log(err);\n        setStatus(STATUS.REJECTED);\n      });\n  }, [name, id, inView, TRENDING, language]);\n\n  return (\n    <div className={styles.wrapper}>\n      <h2 className={styles.genre} ref={ref}>\n        {name}\n        {name === TRENDING && <BsFire className={styles.icon} />}\n      </h2>\n      {status === STATUS.PENDING && <PageLoader />}\n      {status === STATUS.RESOLVED && movies.length > 0 && (\n        <Swiper {...sliderOptions}>\n          {movies.map(movie => (\n            <SwiperSlide className={styles.card} key={movie.id}>\n              <Movie movie={movie} location={location} />\n            </SwiperSlide>\n          ))}\n        </Swiper>\n      )}\n    </div>\n  );\n};\n\nMovieCarousel.propTypes = {\n  genre: PropTypes.object.isRequired,\n};\n\nexport default MovieCarousel;\n","import { useEffect, useState } from 'react';\n\nimport MovieCarousel from 'components/MovieCarousel';\nimport { getGenreList } from 'services/moviesAPI';\nimport { useTranslation } from 'react-i18next';\n\nconst Home = () => {\n  const [genres, setGenres] = useState([]);\n  const {\n    t,\n    i18n: { language },\n  } = useTranslation();\n\n  const TRENDING = t('home.additional_genre.trending');\n\n  useEffect(() => {\n    getGenreList(language).then(res => {\n      const newGenres = res.map(genre => genre);\n      setGenres(newGenres);\n    });\n  }, [language]);\n\n  return (\n    <>\n      <MovieCarousel genre={{ name: TRENDING }} />\n      {genres.length > 0 &&\n        genres.map(genre => <MovieCarousel key={genre.id} genre={genre} />)}\n    </>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\n\nimport { BASE_URL, API_KEY, RESOURCE } from 'utils/constants';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n};\n\nconst getTrendingMovies = (language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios.get(RESOURCE.trending, options).then(res => res.data.results);\n};\n\nconst getGenreList = (language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios.get(RESOURCE.genres, options).then(res => res.data.genres);\n};\n\nconst getMoviesBySearchQuery = (query, language = 'en') => {\n  const options = {\n    params: { query, language },\n  };\n  return axios.get(RESOURCE.search, options).then(res => res.data.results);\n};\n\nconst getMoviesByGenre = (genreId, language = 'en') => {\n  const options = {\n    params: {\n      with_genres: genreId,\n      sort_by: 'popularity.desc',\n      'vote_average.gte': 5,\n      'primary_release_date.gte': '2010-01-01',\n      language,\n    },\n  };\n\n  return axios.get(RESOURCE.discover, options).then(res => res.data.results);\n};\n\nconst getMovieDetails = (id, language = 'en') => {\n  const options = {\n    params: { language },\n  };\n\n  return axios.get(RESOURCE.movieDetails(id), options).then(res => res.data);\n};\n\nconst getMovieCredits = (id, language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios\n    .get(RESOURCE.movieCredits(id), options)\n    .then(res => res.data.cast);\n};\n\nconst getMovieReviews = (id, language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios\n    .get(RESOURCE.movieReviews(id), options)\n    .then(res => res.data.results);\n};\n\nconst getVideos = (id, language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios.get(RESOURCE.videos(id), options).then(res => res.data.results);\n};\n\nexport {\n  getTrendingMovies,\n  getGenreList,\n  getMoviesBySearchQuery,\n  getMoviesByGenre,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n  getVideos,\n};\n"],"names":["movie","location","id","title","poster_path","vote_average","imgUrl","IMAGE_BASE_URL","imagePlaceHolder","data","getDataFromLocalStorage","isSaved","some","el","className","styles","to","state","from","src","alt","loading","toFixed","Map","RootIds","WeakMap","rootId","unsupportedValue","undefined","defaultFallbackInView","inView","getRootId","root","has","get","set","sort","filter","key","map","createObserver","instance","threshold","Object","intersectionRatio","trackVisibility","isVisible","IntersectionObserver","entries","entry","isIntersecting","forEach","target","callback","Array","element","isArray","fallbackInView","window","bounds","getBoundingClientRect","time","boundingClientRect","thresholds","intersectionRect","rootBounds","callbacks","push","observe","unobserve","splice","indexOf","length","delete","size","disconnect","isPlainChildren","props","children","InView","constructor","node","_unobserveCb","handleNode","triggerOnce","setState","keys","initialInView","skip","observeNode","handleChange","onChange","componentDidUpdate","prevProps","observerMap","genre","name","useState","STATUS","status","setStatus","movies","setMovies","useTranslation","t","language","i18n","TRENDING","sliderOptions","slidesPerView","spaceBetween","navigation","modules","Navigation","breakpoints","useLocation","useEffect","current","ref","as","createElement","entryTarget","setRef","React","useInView","rootMargin","getMoviesByGenre","then","res","catch","err","console","log","getTrendingMovies","PageLoader","Movie","genres","setGenres","getGenreList","newGenres","axios","BASE_URL","api_key","API_KEY","options","params","RESOURCE","results","getMoviesBySearchQuery","query","genreId","with_genres","sort_by","getMovieDetails","getMovieCredits","cast","getMovieReviews","getVideos"],"sourceRoot":""}