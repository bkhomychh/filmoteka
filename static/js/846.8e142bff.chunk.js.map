{"version":3,"file":"static/js/846.8e142bff.chunk.js","mappings":"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","sources":["webpack://filmoteka/./src/components/Movie/Movie.module.scss?674c","components/Movie/Movie.jsx","webpack://filmoteka/./src/components/MovieCarousel/MovieCarousel.module.scss?517c","components/MovieCarousel/MovieCarousel.jsx","pages/Home.jsx","services/moviesAPI.js","utils/constants.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"link\":\"Movie_link__TtNxb\",\"poster\":\"Movie_poster__O4gfr\",\"icon\":\"Movie_icon__zxB3-\",\"title\":\"Movie_title__9f19-\",\"score\":\"Movie_score__ya-UI\"};","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { FaBookmark } from 'react-icons/fa';\nimport { AiFillStar } from 'react-icons/ai';\n\nimport { getDataFromLocalStorage } from 'services/localStorage';\nimport { IMAGE_BASE_URL } from 'utils/constants';\n\nimport imagePlaceHolder from 'assets/images/image-place-holder.png';\nimport styles from './Movie.module.scss';\n\nconst Movie = ({ movie, location }) => {\n  const { id, title, poster_path, vote_average } = movie;\n  const imgUrl = poster_path ? IMAGE_BASE_URL + poster_path : imagePlaceHolder;\n\n  const data = getDataFromLocalStorage('movies');\n  const isSaved = data ? data.some(el => el.id === id) : false;\n\n  return (\n    <>\n      <Link\n        className={styles.link}\n        to={`/search/${id}`}\n        state={{ from: location }}\n      >\n        <img className={styles.poster} src={imgUrl} alt={title} />\n        {isSaved && <FaBookmark className={styles.icon} />}\n      </Link>\n      <h3 className={styles.title}>{title}</h3>\n      <p className={styles.score}>\n        {vote_average.toFixed(1)} <AiFillStar />\n      </p>\n    </>\n  );\n};\n\nMovie.propTypes = {\n  movie: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n};\n\nexport default Movie;\n","// extracted by mini-css-extract-plugin\nexport default {\"genre\":\"MovieCarousel_genre__iWB+w\",\"icon\":\"MovieCarousel_icon__5ATRP\",\"card\":\"MovieCarousel_card__1KFGD\",\"wrapper\":\"MovieCarousel_wrapper__i-8Vn\"};","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { Navigation } from 'swiper';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport 'swiper/scss';\nimport 'swiper/scss/navigation';\nimport 'swiper/scss/controller';\nimport { useInView } from 'react-intersection-observer';\n\nimport Movie from 'components/Movie/Movie';\nimport PageLoader from 'components/PageLoader';\n\nimport { getTrendingMovies, getMoviesByGenre } from 'services/moviesAPI';\nimport { STATUS } from 'utils/constants';\n\nimport styles from './MovieCarousel.module.scss';\nimport { BsFire } from 'react-icons/bs';\nimport { useTranslation } from 'react-i18next';\n\nconst MovieCarousel = ({ genre: { name, id } }) => {\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [movies, setMovies] = useState([]);\n  const {\n    t,\n    i18n: { language },\n  } = useTranslation();\n\n  const TRENDING = t('home.additional_genre.trending');\n\n  const sliderOptions = {\n    slidesPerView: 3,\n    spaceBetween: 20,\n    navigation: true,\n    modules: [Navigation],\n    breakpoints: {\n      768: {\n        slidesPerView: 4,\n      },\n      1200: {\n        slidesPerView: 5,\n      },\n    },\n  };\n\n  if (name === TRENDING) {\n    sliderOptions.slidesPerView = 1;\n    sliderOptions.breakpoints = {\n      768: {\n        slidesPerView: 2,\n      },\n      1200: {\n        slidesPerView: 3,\n      },\n    };\n  }\n\n  const location = useLocation();\n  const { ref, inView } = useInView({\n    triggerOnce: true,\n    threshold: 1,\n    rootMargin: '100px',\n    initialInView: false,\n  });\n\n  useEffect(() => {\n    if (!inView) {\n      return;\n    }\n\n    setStatus(STATUS.PENDING);\n\n    if (name === TRENDING) {\n      getTrendingMovies(language)\n        .then(res => {\n          setMovies(res);\n          setStatus(STATUS.RESOLVED);\n        })\n        .catch(err => {\n          console.log(err);\n          setStatus(STATUS.REJECTED);\n        });\n      return;\n    }\n\n    getMoviesByGenre(id, language)\n      .then(res => {\n        setMovies(res);\n        setStatus(STATUS.RESOLVED);\n      })\n      .catch(err => {\n        console.log(err);\n        setStatus(STATUS.REJECTED);\n      });\n  }, [name, id, inView, TRENDING, language]);\n\n  return (\n    <div className={styles.wrapper}>\n      <h2 className={styles.genre} ref={ref}>\n        {name}\n        {name === TRENDING && <BsFire className={styles.icon} />}\n      </h2>\n      {status === STATUS.PENDING && <PageLoader />}\n      {status === STATUS.RESOLVED && movies.length > 0 && (\n        <Swiper {...sliderOptions}>\n          {movies.map(movie => (\n            <SwiperSlide className={styles.card} key={movie.id}>\n              <Movie movie={movie} location={location} />\n            </SwiperSlide>\n          ))}\n        </Swiper>\n      )}\n    </div>\n  );\n};\n\nMovieCarousel.propTypes = {\n  genre: PropTypes.object.isRequired,\n};\n\nexport default MovieCarousel;\n","import { useEffect, useState } from 'react';\n\nimport MovieCarousel from 'components/MovieCarousel';\nimport { getGenreList } from 'services/moviesAPI';\nimport { useTranslation } from 'react-i18next';\n\nconst Home = () => {\n  const [genres, setGenres] = useState([]);\n  const {\n    t,\n    i18n: { language },\n  } = useTranslation();\n\n  const TRENDING = t('home.additional_genre.trending');\n\n  useEffect(() => {\n    getGenreList(language).then(res => {\n      const newGenres = res.map(genre => genre);\n      setGenres(newGenres);\n    });\n  }, [language]);\n\n  return (\n    <>\n      <MovieCarousel genre={{ name: TRENDING }} />\n      {genres.length > 0 &&\n        genres.map(genre => <MovieCarousel key={genre.id} genre={genre} />)}\n    </>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\n\nimport { BASE_URL, API_KEY, RESOURCE } from 'utils/constants';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n};\n\nconst getTrendingMovies = (language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios.get(RESOURCE.trending, options).then(res => res.data.results);\n};\n\nconst getGenreList = (language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios.get(RESOURCE.genres, options).then(res => res.data.genres);\n};\n\nconst getMoviesBySearchQuery = (query, language = 'en') => {\n  const options = {\n    params: { query, language },\n  };\n  return axios.get(RESOURCE.search, options).then(res => res.data.results);\n};\n\nconst getMoviesByGenre = (genreId, language = 'en') => {\n  const options = {\n    params: {\n      with_genres: genreId,\n      sort_by: 'popularity.desc',\n      'vote_average.gte': 5,\n      'primary_release_date.gte': '2010-01-01',\n      language,\n    },\n  };\n\n  return axios.get(RESOURCE.discover, options).then(res => res.data.results);\n};\n\nconst getMovieDetails = (id, language = 'en') => {\n  const options = {\n    params: { language },\n  };\n\n  return axios.get(RESOURCE.movieDetails(id), options).then(res => res.data);\n};\n\nconst getMovieCredits = (id, language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios\n    .get(RESOURCE.movieCredits(id), options)\n    .then(res => res.data.cast);\n};\n\nconst getMovieReviews = (id, language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios\n    .get(RESOURCE.movieReviews(id), options)\n    .then(res => res.data.results);\n};\n\nconst getVideos = (id, language = 'en') => {\n  const options = {\n    params: { language },\n  };\n  return axios.get(RESOURCE.videos(id), options).then(res => res.data.results);\n};\n\nexport {\n  getTrendingMovies,\n  getGenreList,\n  getMoviesBySearchQuery,\n  getMoviesByGenre,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n  getVideos,\n};\n","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w500/';\nconst API_KEY = '9e68854d69dbd1100bcb425bc2f51530';\n\nconst RESOURCE = {\n  trending: 'trending/movie/week',\n  genres: 'genre/movie/list',\n  search: 'search/movie',\n  discover: 'discover/movie',\n  videos: id => `movie/${id}/videos`,\n  movieDetails: id => `movie/${id}`,\n  movieCredits: id => `movie/${id}/credits`,\n  movieReviews: id => `movie/${id}/reviews`,\n};\n\nconst STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\n\nexport { BASE_URL, IMAGE_BASE_URL, API_KEY, RESOURCE, STATUS };\n"],"names":["movie","location","id","title","poster_path","vote_average","imgUrl","IMAGE_BASE_URL","imagePlaceHolder","data","getDataFromLocalStorage","isSaved","some","el","className","styles","to","state","from","src","alt","toFixed","genre","name","useState","STATUS","status","setStatus","movies","setMovies","useTranslation","t","language","i18n","TRENDING","sliderOptions","slidesPerView","spaceBetween","navigation","modules","Navigation","breakpoints","useLocation","useInView","triggerOnce","threshold","rootMargin","initialInView","ref","inView","useEffect","getMoviesByGenre","then","res","catch","err","console","log","getTrendingMovies","PageLoader","length","map","Movie","genres","setGenres","getGenreList","newGenres","axios","BASE_URL","api_key","API_KEY","options","params","RESOURCE","results","getMoviesBySearchQuery","query","genreId","with_genres","sort_by","getMovieDetails","getVideos","trending","search","discover","videos","movieDetails","movieCredits","movieReviews","IDLE","PENDING","REJECTED","RESOLVED"],"sourceRoot":""}